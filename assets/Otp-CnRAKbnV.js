import{u as j,b as v,a as N,r as a,j as e}from"./index-BaES_fOZ.js";function g(){const u=j(),{state:t}=v(),{setRole:p,setClient:d}=N(),[r,m]=a.useState(""),[n,l]=a.useState(120),[i,c]=a.useState("");a.useEffect(()=>{const s=setInterval(()=>l(o=>o>0?o-1:0),1e3);return()=>clearInterval(s)},[]);const h=()=>l(120),x=()=>{if(r!=="123456"){c("الرمز غير صحيح");return}d(s=>({...s,authed:!0,profile:{name:"مستخدم",city:"الرياض",phone:(t==null?void 0:t.phone)||""}})),p("client"),u("/client/complete-profile")};return e.jsxs("div",{className:"container",style:{paddingTop:16},children:[e.jsx("h2",{className:"title",children:"أدخل رمز التحقق"}),e.jsxs("p",{className:"subtitle",children:["أرسلنا الرمز إلى ",(t==null?void 0:t.phone)||"رقمك"]}),e.jsxs("div",{className:"card",style:{display:"grid",gap:10},children:[e.jsx("input",{className:"input",placeholder:"******",value:r,onChange:s=>{m(s.target.value),c("")},maxLength:6}),e.jsxs("div",{className:"subtitle",children:["الوقت المتبقي: ",String(Math.floor(n/60)).padStart(2,"0"),":",String(n%60).padStart(2,"0")]}),n===0&&e.jsx("button",{className:"btn outline",onClick:h,children:"إعادة الإرسال"}),i&&e.jsx("div",{className:"error",children:i}),e.jsx("button",{className:"btn",onClick:x,children:"تحقق"})]})]})}export{g as default};
